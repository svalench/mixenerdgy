{"version":3,"file":"components/cert-filter.js","sources":["webpack:///./components/certComponents/certFilter.vue?44a4","webpack:///./components/certComponents/certFilter.vue","webpack:///./components/certComponents/certFilter.vue?dca9","webpack:///./components/certComponents/certFilter.vue?f984"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-skeleton-wrapper',{attrs:{\"loading\":_vm.show},scopedSlots:_vm._u([{key:\"loading\",fn:function(){return [_c('b-card',{attrs:{\"title\":\"Фильтр\"}},[_c('div',[_c('b-skeleton',{staticClass:\"skelet-cl\",attrs:{\"width\":\"85%\"}}),_vm._v(\" \"),_c('b-skeleton',{staticClass:\"skelet-cl\",attrs:{\"width\":\"65%\"}}),_vm._v(\" \"),_c('b-skeleton',{staticClass:\"skelet-cl\",attrs:{\"width\":\"70%\"}}),_vm._v(\" \"),_c('b-skeleton',{staticClass:\"skelet-cl\",attrs:{\"width\":\"80%\"}}),_vm._v(\" \"),_c('b-skeleton',{staticClass:\"skelet-cl\",attrs:{\"width\":\"60%\"}}),_vm._v(\" \"),_c('b-skeleton',{staticClass:\"skelet-cl\",attrs:{\"width\":\"90%\"}})],1)])]},proxy:true}])},[_vm._v(\" \"),_c('b-card',{staticStyle:{\"background-color\":\"white\"},attrs:{\"title\":\"Фильтр\"}},[_c('b-form-checkbox-group',{attrs:{\"stacked\":\"\",\"name\":\"flavour-1\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},_vm._l((_vm.filters),function(val,nn){return _c('b-row',{key:nn},[_c('b-form-checkbox',{ref:\"checkb\",refInFor:true,attrs:{\"size\":\"lg\",\"value\":val.id},on:{\"change\":function($event){return _vm.setFilter()}}},[_vm._v(_vm._s(val.name))])],1)}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"certFilter\",\n  data(){\n    return{\n      filters:[],\n      selected:[],\n      show:false,\n    }\n  },\n  mounted() {\n    this.getSelected()\n    this.getFilters();\n  },\n  watch: {\n    '$route.query'(nv) {\n      this.getSelected()\n    },\n  },\n  methods:{\n    /**\n     * получение значений фильтров\n     * @returns {Promise<void>}\n     */\n    async getFilters(){\n        this.show = true;\n      let data = await this.$axios.get(`/catalog/categories/?limit=99999`);\n      console.log(data)\n        this.filters = data.data.results;\n      // this.filters.push({name:\"Без категории\",id:0})\n        this.show = false;\n      },\n     /**\n       * добавление фильтров в путь\n       */\n      setFilter(){\n        this.$router.push({ path: this.$route.path, query: { filter: JSON.parse(JSON.stringify(this.selected)), page: 1 }})\n      },\n      getSelected(){\n        var selected = JSON.parse(JSON.stringify(this.$route.query.filter?this.$route.query.filter:[]))\n        if(Array.isArray(selected)){\n          selected = selected.map(x=>(x-0))\n        }else{\n          selected = [selected-0]\n        }\n        this.selected = selected\n      },\n  },\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./certFilter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./certFilter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./certFilter.vue?vue&type=template&id=1fdb1589&scoped=true&\"\nimport script from \"./certFilter.vue?vue&type=script&lang=js&\"\nexport * from \"./certFilter.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"1fdb1589\",\n  \"085d7cc8\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AA5BA;AAlBA;;AC/BA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}